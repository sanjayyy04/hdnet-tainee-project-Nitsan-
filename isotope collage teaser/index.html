<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <section>
        <div class="color-filer">
            <ul>
                <li class="active" data-filter="*">All filter</li>
                <li data-filter=".red">red</li>
                <li data-filter=".green">Green</li>
                <li data-filter=".blue">Blue</li>
            </ul>
        </div>

        <div class="container">
            <div class="items red"></div>
            <div class="items green"></div>
            <div class="items blue"></div>
            <div class="items red"></div>
            <div class="items blue"></div>
            <div class="items green"></div>
            <div class="items blue"></div>
            <div class="items red"></div>
            <div class="items green"></div>
            <div class="items black"></div>
            <div class="items red"></div>
            <div class="items pink"></div>

        </div>
    </section>

    <section>

        <div class="card-filer">
            <ul>
                <li class="active" data-filter="*">All filter</li>
                <li data-filter=".item1">Item1</li>
                <li data-filter=".item2">Item2</li>
                <li data-filter=".item3">Item3</li>
                <li data-filter=".item4">Item4</li>
            </ul>
        </div>


        <div class="card-container">
            <div class="card item1">
                <img src="assets/Screenshot 2025-08-29 155406.png" alt="Demo Image">
                <div class="overlay">
                    <h3>Image Title</h3>
                    <p>Some description about the image goes here.</p>
                    <button>Open</button>
                </div>
            </div>

            <div class="card item2">
                <img src="assets/img.jpg" alt="Demo Image">
                <div class="overlay">
                    <h3>Another Title</h3>
                    <p>Details about this card image.</p>
                    <button>Open</button>
                </div>
            </div>

            <div class="card item2">
                <img src="assets/img.jpg" alt="Demo Image">
                <div class="overlay">
                    <h3>Another Title</h3>
                    <p>Details about this card image.</p>
                    <button>Open</button>
                </div>
            </div>

            <div class="card item3">
                <img src="assets//pexels-olly-859265.jpg" alt="Demo Image">
                <div class="overlay">
                    <h3>Another Title</h3>
                    <p>Details about this card image.</p>
                    <button>Open</button>
                </div>
            </div>
            <div class="card item4">
                <img src="assets/teasure3.jpg" alt="Demo Image">
                <div class="overlay">
                    <h3>Image Title</h3>
                    <p>Some description about the image goes here.</p>
                    <button>Open</button>
                </div>
            </div>

            <div class="card item2">
                <img src="assets/img.jpg" alt="Demo Image">
                <div class="overlay">
                    <h3>Another Title</h3>
                    <p>Details about this card image.</p>
                    <button>Open</button>
                </div>
            </div>

            <div class="card item1">
                <img src="assets/Screenshot 2025-08-29 155406.png" alt="Demo Image">
                <div class="overlay">
                    <h3>Another Title</h3>
                    <p>Details about this card image.</p>
                    <button>Open</button>
                </div>
            </div>
        </div>
    </section>

    <section>
        <div class="img-filer">
            <ul>
                <li class="active" data-filter="*">All filter</li>
                <li data-filter=".development">Development</li>
                <li data-filter=".operations">Operations</li>
                <li data-filter=".marketing">Marketing/Sales</li>
                <li data-filter=".scrum">Scrum</li>
            </ul>
        </div>
    
        <div class="masonry-container">
            <div class="masonry-item development">
                <img src="assets/teaser1.jpg" alt="Demo Image">
                <div class="overlay1">
                    <h1>Lorem ipsum dolor.</h1>
                    <p>Lorem, ipsum dolor.</p>
                    <button class="btn">Open</button>
                </div>
            </div>
    
            <div class="masonry-item development">
                <img src="assets/teasure2.jpg" alt="Demo Image">
                <div class="overlay1">
                    <h1>Lorem ipsum dolor.</h1>
                    <p>Lorem, ipsum dolor.</p>
                    <button class="btn">Open</button>
                </div>
            </div>
    
            <div class="masonry-item operations">
                <img src="assets/teasure3.jpg" alt="Demo Image">
                <div class="overlay1">
                    <h1>Lorem ipsum dolor.</h1>
                    <p>Lorem, ipsum dolor.</p>
                    <button class="btn">Open</button>
                </div>
            </div>
    
            <div class="masonry-item operations">
                <img src="assets/teaser1.jpg" alt="Demo Image">
                <div class="overlay1">
                    <h1>Lorem ipsum dolor.</h1>
                    <p>Lorem, ipsum dolor.</p>
                    <button class="btn">Open</button>
                </div>
            </div>
    
            <div class="masonry-item marketing">
                <img src="assets/teasure2.jpg" alt="Demo Image">
                <div class="overlay1">
                    <h1>Lorem ipsum dolor.</h1>
                    <p>Lorem, ipsum dolor.</p>
                    <button class="btn">Open</button>
                </div>
            </div>
    
            <div class="masonry-item scrum">
                <img src="assets/teasure3.jpg" alt="Demo Image">
                <div class="overlay1">
                    <h1>Lorem ipsum dolor.</h1>
                    <p>Lorem, ipsum dolor.</p>
                    <button class="btn">Open</button>
                </div>
            </div>
    
            <div class="masonry-item scrum">
                <img src="assets/teaser1.jpg" alt="Demo Image">
                <div class="overlay1">
                    <h1>Lorem ipsum dolor.</h1>
                    <p>Lorem, ipsum dolor.</p>
                    <button class="btn">Open</button>
                </div>
            </div>
    
            <div class="masonry-item">
                <img src="assets/teasure2.jpg" alt="Demo Image">
                <div class="overlay1">
                    <h1>Lorem ipsum dolor.</h1>
                    <p>Lorem, ipsum dolor.</p>
                    <button class="btn">Open</button>
                </div>
            </div>
    
        </div>
    </section>

<!-- === Image Modal (paste just above your scripts) === -->
<div id="imageModal" class="modal" aria-hidden="true">
    <button class="modal-close" aria-label="Close">&times;</button>
    <img id="modalImage" class="modal-image" src="" alt="Demo Image">
    <div id="modalCaption" class="modal-caption"></div>
</div>


    <!-- ========= Scripts ========= -->
    <script src="https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.min.js"></script>
    <script>
        // ========== Section 1 Isotope ==========
        var iso1 = new Isotope(".container", {
            itemSelector: '.items',
            layoutMode: 'masonry',
        });

        let buttons1 = document.querySelectorAll(".color-filer ul li");
        buttons1.forEach(btn => {
            btn.addEventListener("click", function () {
                buttons1.forEach(b => b.classList.remove("active"));
                this.classList.add("active");

                let filterValue = this.getAttribute("data-filter");
                iso1.arrange({ filter: filterValue });
            });
        });

        // ========== Section 2 Isotope ==========
        var iso2 = new Isotope(".card-container", {
            itemSelector: '.card',
            layoutMode: 'masonry',
        });

        let buttons2 = document.querySelectorAll(".card-filer ul li");
        buttons2.forEach(btn => {
            btn.addEventListener("click", function () {
                buttons2.forEach(b => b.classList.remove("active"));
                this.classList.add("active");

                let filterValue2 = this.getAttribute("data-filter");
                iso2.arrange({ filter: filterValue2 });
            });
        });

        // init isotope
            var iso = new Isotope('.masonry-container', {
                itemSelector: '.masonry-item',
                // layoutMode: 'masonry',
                transitionDuration: '0.4s',
                // percentPosition: true,
            });

            // filter buttons
            let buttons = document.querySelectorAll(".img-filer ul li");
            buttons.forEach(btn => {
                btn.addEventListener("click", function (e) {
                    buttons.forEach(b => b.classList.remove("active"));
                    this.classList.add("active");

                    let filterValue = this.getAttribute("data-filter");
                    iso.arrange({ filter: filterValue, layoutMode: 'masonry' });
                });
            });

            // ===== Modal image viewer (append after your existing isotope code) =====
                (function () {
                    const modal = document.getElementById('imageModal');
                    if (!modal) return; // safety

                    const modalImage = document.getElementById('modalImage');
                    const modalCaption = document.getElementById('modalCaption');
                    const closeBtn = modal.querySelector('.modal-close');

                    // Select buttons that should open the modal:
                    // - .overlay button (cards)
                    // - .overlay1 .btn      (masonry items)
                    const viewButtons = document.querySelectorAll('.overlay button, .overlay1 .btn');

                    viewButtons.forEach(btn => {
                        btn.addEventListener('click', function () {
                            // find the closest container that holds an <img>
                            const card = this.closest('.card, .masonry-item');
                            if (!card) return;
                            const img = card.querySelector('img');
                            if (!img) return;

                            // If you use lazy-loading with data-src, use:
                            // const src = img.getAttribute('data-src') || img.src;
                            const src = img.src;

                            modalImage.src = src;
                            modalImage.alt = img.alt || '';
                            modalCaption.textContent = img.alt || '';
                            modal.classList.add('open');
                            modal.setAttribute('aria-hidden', 'false');
                        });
                    });

                    function closeModal() {
                        modal.classList.remove('open');
                        modal.setAttribute('aria-hidden', 'true');
                        // clear src to free memory and avoid previous image flashing
                        modalImage.src = '';
                        modalCaption.textContent = '';
                    }

                    // close handlers
                    closeBtn.addEventListener('click', closeModal);
                    modal.addEventListener('click', function (e) {
                        if (e.target === modal) closeModal(); // click on backdrop closes modal
                    });
                    document.addEventListener('keydown', function (e) {
                        if (e.key === 'Escape') closeModal(); // ESC closes modal
                    });
                })();

    </script>

</body>

</html>